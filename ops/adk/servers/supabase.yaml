id: supabase
version: "1"
description: "Supabase MCP (HTTP; OAuth default, CI PAT optional)"
transport:
  type: http
  url: "https://mcp.supabase.com/mcp${MAGSAG_MCP_SUPABASE_PROJECT_REF:+?project_ref=${MAGSAG_MCP_SUPABASE_PROJECT_REF}}"
  headers:
    Authorization: "${MAGSAG_MCP_SUPABASE_ACCESS_TOKEN:+Bearer ${MAGSAG_MCP_SUPABASE_ACCESS_TOKEN}}"
options:
  read_only: "${MAGSAG_MCP_SUPABASE_READONLY:true}"
permissions:
  scope:
    - "db:select"
    - "db:describe"
notes: "Use browser OAuth by default. Reserve PAT + project_ref for CI or headless environments."
